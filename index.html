<!DOCTYPE html>
<html>
	<head>
		<title>English Ivy Ideal Habitat Suitability Analysis</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
		<link rel="stylesheet" type="text/css" href="css/own_style.css">
		<link rel="stylesheet" href="node_modules/leaflet-zoombox/L.Control.ZoomBox.css" />
		<link rel="stylesheet" href="node_modules/leaflet-sidebar/src/L.Control.Sidebar.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
		<script src="js/leaflet-hash.js"></script>
		<script src="js/Autolinker.min.js"></script>
		<script src="node_modules/leaflet-zoombox/L.Control.ZoomBox.min.js"></script>
		<script src="node_modules/leaflet-sidebar/src/L.Control.Sidebar.js"></script>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	</head>
	<body>
		<div id="map"></div>
		<input id="slide" type="range" min="0" max="1" step="0.1" value="1" onchange="updateOpacity(this.value)">
		<div id="sidebar">
    		<h2>English Ivy Habitat Suitability Analysis</h2>
		</div>
		<style type="text/css">
		.legend {
			position: relative;
			width: 180px;
			height: 110px;
			line-height: 18px;
		}

		.legend i {
			position: absolute;
			width: 18px;
			height: 18px;
			float: left;
			margin-right: 8px;
			opacity: 0.7;
		}

		.legend b {
			margin-left: 25px;
		}
		</style>
		<script>
		var map = L.map('map', {
			zoomControl:true, maxZoom:16, minZoom:12
		}).fitBounds([[39.1908641736,-76.7436694235],[39.3791642546,-76.4952148958]]);
		var hash = new L.Hash(map);
		var additional_attrib = 'created w. <a href="https://github.com/geolicious/qgis2leaf" target ="_blank">qgis2leaf</a> by <a href="http://www.geolicious.de" target ="_blank">Geolicious</a> & contributors<br>';
		var feature_group = new L.featureGroup([]);
		var raster_group = new L.LayerGroup([]);
		var basemap_0 = L.tileLayer('http://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
		attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});
		basemap_0.addTo(map);	
		var layerOrder=new Array();
		var img_IdealHabintrend= 'Data/exp_IdealHabintrend.png';
		var img_bounds_IdealHabintrend = [[39.1957776896,-76.7090937249],[39.3743123144,-76.5298975711]];
		var overlay_IdealHabintrend = new L.imageOverlay(img_IdealHabintrend, img_bounds_IdealHabintrend).addTo(map).setOpacity(0.6);
		raster_group.addLayer(overlay_IdealHabintrend);

		feature_group.addTo(map);

		setTimeout(function () {
			sidebar.show();
		}, 500);

		function getColor(d) {
			if (d == 'Less Suitable') {
				return '#5EAE4C'
			} else if (d == 'Suitable') {
				return '#DADB65'
			} else if (d == 'Most Suitable') {
				return '#DB6565'
			} else {
				return '#000000'
			}
		};

		var legend = L.control({position: 'bottomright'}, {collapsed: true});

		legend.onAdd = function(map) {
			var div = L.DomUtil.create('div', 'info legend'),
					  grades = ['Less Suitable', 'Suitable', 'Most Suitable'],
					  labels = ['<strong>English Ivy Site Suitability</strong><br><ln>'],
					  from, to;

			for (var i = 0; i < grades.length; i++) {
				from = grades[i];
				to = grades[i+1];

				labels.push('<i style="background:' + getColor(from) + '"></i>' + '<b>'+from+'</b>');
			};
			div.innerHTML = labels.join('<br>');
			return div;
		};

		legend.addTo(map);

		var control = L.control.zoomBox({modal: false, position: 'topleft', className: 'fa fa-crop'});
		control.addTo(map);

		var sidebar = L.control.sidebar('sidebar', {position: 'left'});
		sidebar.addTo(map);
	</script>
</body>
</html>
